var coreJs={menu:$(".core__menu-nav__ul"),width:null,init:function(){this.resize()},active:function(t){t.addClass("active")},activeRemove:function(t){t.removeClass("active")},activeToggle:function(t){t.toggleClass("active")},delete:function(t){t.remove()},resize:function(){coreJs.width=$(document).width(),$(window).resize(function(){coreJs.width=$(document).width()})},put:function(t,a){t.detach(),a.append(t)}},coreJsResize={$arElements:$("[data-js-core-resize]"),width:null,init:function(){this.load()},load:function(){this.$arElements.each(function(){var t=$(this),a=t.data("js-core-resize"),e=t.data("js-core-resize-width");t.data({status:!1,name:a,size:e,before:$("[data-js-core-resize="+a+"]"),after:$("[data-js-core-resize-after="+a+"]")})}),this.resize(),$(window).resize(this.resize)},resize:function(){coreJsResize.$arElements.each(function(){var t=$(this);"xl"===t.data().size&&(t.data().size="1200"),"lg"===t.data().size&&(t.data().size="992"),"md"===t.data().size&&(t.data().size="758"),"sm"===t.data().size&&(t.data().size="576"),"xs"===t.data().size&&(t.data().size="360"),coreJs.width<=t.data().size?t.data().status||(console.log("перенос"),t.wrap('<div data-js-core-resize-before="'+t.data().name+'"></div>'),t.data().before=$("[data-js-core-resize-before="+t.data().name+"]"),t.data().before.css("display","none"),coreJs.put(t,t.data().after),t.data().status=!0):t.data().status&&(console.log("Возврат"),coreJs.put(t.data().after.find("[data-js-core-resize="+t.data().name+"]"),t.data().before),t.unwrap(),t.data().status=!1)})}},coreJsFormCheckbox={$arElements:$("[data-js-core-form-checkbox]"),init:function(){this.load()},load:function(){this.$arElements.each(function(){var t=$(this),a=t.data("js-core-form-checkbox");t.data({hidden:$("."+a)})}),this.activation()},activation:function(){this.$arElements.each(function(){var t=$(this);$(t).on("click",function(){t.data().hidden.toggleClass("active")})})}},coreJsTabs={$arElementsNav:$("[data-js-core-tabs-nav]").find("a"),$arElementsTabs:$("[data-js-core-tabs]"),id:1,num:null,init:function(){this.load()},load:function(){var t=null;this.$arElementsNav.each(function(){var a=$(this),e=null,s=a.parents("[data-js-core-tabs-nav]").data("js-core-tabs-nav");e=a.data("js-core-tabs-nav-id")?a.data("js-core-tabs-nav-id"):coreJsTabs.id,t===s?coreJsTabs.num+=1:(t=s,coreJsTabs.num=1);var i=coreJsTabs.$arElementsTabs.find("[data-js-core-tabs-id ="+e+"]");a.data({id:e,name:s,tab:i,num:coreJsTabs.num}),coreJsTabs.id+=1}),this.activation()},activation:function(){this.$arElementsNav.each(function(){var t=$(this);$(t).on("click",function(a){a.preventDefault(),$("[data-js-core-tabs-nav="+t.data().name+"]").find("[data-js-core-tabs-nav-id]").removeClass("active"),t.toggleClass("active"),$("[data-js-core-tabs="+t.data().name+"]").find("[data-js-core-tabs-id]").removeClass("active"),t.data().tab.toggleClass("active");var e=anime({targets:$("[data-js-core-tabs="+t.data().name+"]").find("[data-js-core-tabs-id]"),translateX:250})})})}},coreJsMobile={$body:$(".body-content"),$menu:$(".core__mobile__menu"),$buttonX:$(".core__mobile__button"),init:function(){this.load()},load:function(){$(this.$buttonX).on("click",this.ButtonX_click)},ButtonX_click:function(t){t.preventDefault(),coreJsMobile.$body.toggleClass("js-core-mobile-open"),coreJsMobile.$buttonX.toggleClass("active"),$(".core__mobile").removeClass("js-list")}},coreJsSwitchElement={$arElements:$("[data-js-core-switch-element]"),init:function(){this.load()},load:function(){this.$arElements.each(function(){var t=$(this),a=t.data("js-core-switch-element"),e=t.text();$textSwitch=t.data("js-core-switch-element-text"),t.data({element:$("."+a),text:e,textSwitch:$textSwitch})}),this.activation()},activation:function(){this.$arElements.each(function(){var t=$(this);$(t).on("click",function(){t.data("element").toggleClass("active"),t.data("textSwitch")&&t.data("element").hasClass("active")?t.text(t.data("textSwitch")):t.text(t.data("text"))})})}},Assess={core:null,init:function(){core=$.extend(!0,{},this),this.load()},load:function(){this.$add=$(".rating__add"),this.$arResult=$("[data-js-assess]"),this.$arResult.each(function(){var t=$(this);t.data({table:t.data("js-assess"),id:t.data("js-assess-id"),value:t.data("js-assess-value-id"),arStar:t.find("[data-js-assess-value-number]")}),t.data().arStar.each(function(){$(this).data({id:$(this).parent().data("js-assess-value-id"),number:$(this).data("js-assess-value-number")}),$(this).on("click",function(){core.onClick(t,$(this))}),$(this).hover(function(){core.onHover(t,$(this))})}),t.mouseleave(function(){t.data().arStar.removeClass("hover")})})},onClick:function(t,a){core.ajax(t,a)},onHover:function(t,a){var e=a.data("js-assess-value-number");t.data().arStar.each(function(){$(this).data("js-assess-value-number")<=e?$(this).addClass("hover"):$(this).removeClass("hover")})},ajax:function(t,a){function e(t){Assess.$add.html(t),core.load()}$.post("/app/components/assess/add/ajax.php",{table:t.data().table,id:t.data().id,value_id:a.data().id,value_number:a.data().number},e)}},Comment={init:function(){this.$add=$("[data-js-comment-add]"),this.$block=$(".content__comment"),this.$arResult=$("[data-js-comment-list-item]"),this.$add.length&&this.load()},load:function(){this.$add.data({table:this.$add.data("js-comment-add"),id:this.$add.data("js-comment-add-id"),text:this.$add.find("[data-js-comment-add-text]"),button:this.$add.find("[data-js-comment-add-button]")}),this.$add.data().button.on("click",function(t){t.preventDefault(),Comment.add()})},add:function(){Comment.ajax(Comment.$add)},ajax:function(t){function a(t){Comment.$block.html(t),Comment.init()}$.post("/application/components/comment/add/ajax.php",{table:t.data().table,id:t.data().id,text:t.data().text.val()},a)}},Search={time:1e3,init:function(){this.$search=$(".header__search"),this.$input=$(".header__search__input"),this.$button=$(".header__search__button"),this.$list=$(".header__search__list"),this.load()},load:function(){Search.$input.focus(function(){Search.$input.keyup(function(t){t.preventDefault(),Search.search()})}).blur(function(){$(document).click(function(t){$(t.target).closest(Search.$search).length||(Search.exit(),t.stopPropagation())})}),Search.$button.on("click",function(t){t.preventDefault()}),Search.$input.parents("form").submit(function(){return!1})},search:function(){var t=new Date;t=t.getTime(),setTimeout(function(){if($this=Search.$input,$this.val().length<=3)return Search.exit(),!1;Search.$list.addClass("active");var a=new Date;(a=a.getTime())-t>=Search.time&&Search.ajax($this)},Search.time)},exit:function(){Search.$list.removeClass("active")},ajax:function(t){function a(t){$(".body-content").hasClass("js-core-mobile-open")&&$(".core__mobile").addClass("js-list"),Search.$list.html(t),Search.init()}$.post("/app/components/list/search/ajax.php",{text:t.val()},a)}},AddTeacher={init:function(){this.load()},load:function(){this.$arElements=$(".content__form"),this.$arElements.each(function(){var t=$(this);t.find('[data-js-form-control-type="select"]').change(function(){AddTeacher.onClick(t,$(this))}),t.find('[data-js-form-control-type="button"]').on("click",function(a){a.preventDefault(),AddTeacher.onClick(t,$(this))})})},update:function(t,a){var e=!1,s=t.find('[data-js-form-control="region"]').val(),i=t.find('[data-js-form-control="city"]').val(),n=t.find('[data-js-form-control="university"]').val(),o=t.find('[data-js-form-control="name"]').val();a.is("[data-js-form-btn]")&&(e=!0),t.data({region_id:s,city_id:i,university_id:n,name:o,status:e})},onClick:function(t,a){AddTeacher.update(t,a),AddTeacher.ajax(t)},ajax:function(t){function a(t){AddTeacher.$arElements.replaceWith(t),AddTeacher.load()}$.post("/app/components/add/teacher/ajax.php",{status:t.data("status"),region_id:t.data("region_id"),city_id:t.data("city_id"),university_id:t.data("university_id"),name:t.data("name")},a)}};